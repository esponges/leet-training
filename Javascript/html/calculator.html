<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Calculator</title>
  </head>

  <body>
    <h1>Calculator</h1>
    <form>
      <input type="number" id="input" />
      <button id="add">+</button>
      <button id="subtract">-</button>
      <button id="multiply">*</button>
      <button id="divide">/</button>
      <button id="compute">=</button>
      <button id="clear">Clear</button>
    </form>
    <script>
      const mem = [];
      let input = document.getElementById('input');
      let actual;
      // let operation;
      
      if (mem.length === 0) input.value = 0;

      function onChange(e) {
        e.preventDefault();
        const val = e.target.value;
        actual = parseInt(val);
      }
      input.addEventListener('input', onChange);

      function add(e) {
        e.preventDefault();
        // let operation = 'add';
        const prev = mem[mem.length - 1];
        if (prev >= 0) {
          mem.push(actual);
          res = actual + prev;
          mem.push(res);
          input.value = res;
          actual = res; 
        } else {
          mem.push(actual);
        }
      }

      document.getElementById('add').addEventListener('click', add);

      // todo: pending substract, multiply, divide, compute, clear
    </script>
  </body>
</html>
